server:
  port: 8080

# Định nghĩa URI của các service con ở đây
app:
  services:
    auth: http://localhost:3001
    station: http://localhost:3002
    train: http://localhost:3003
    schedule: http://localhost:3004

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      default-filters:
        - RemoveRequestHeader=Cookie
      routes:
        # Auth service (không cần JWT)
        - id: auth-service
          uri: ${app.services.auth} # Sử dụng biến
          predicates:
            - Path=/api/auth/**

        # Station service (sẽ được bảo vệ bằng Global Filter)
        - id: station-service
          uri: ${app.services.station} # Sử dụng biến
          predicates:
            - Path=/api/stations/**
          # XÓA BỎ filter: - JwtAuthFilter ở đây

        # Train service (sẽ được bảo vệ bằng Global Filter)
        - id: train-service
          uri: ${app.services.train} # Sử dụng biến
          predicates:
            - Path=/api/trains/**
          # XÓA BỎ filter: - JwtAuthFilter ở đây

        # Schedule service (sẽ được bảo vệ bằng Global Filter)
        - id: schedule-service
          uri: ${app.services.schedule} # Sử dụng biến
          predicates:
            - Path=/api/schedules/**
          # XÓA BỎ filter: - JwtAuthFilter ở đây

# Sửa key cho nhất quán
jwt:
  secret: "90cecfe92ffd7125430402ad5b123a07a5a14968426d833ae6ed279264dc0f03"